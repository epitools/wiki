<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Detecting Cell Clones - EpiTools Wiki Pages</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">EpiTools Wiki Pages</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Analysis Modules <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Analysis_Modules/00_projection/" class="dropdown-item">00 projection</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/01_registration/" class="dropdown-item">Registration of Time Series #</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/02_clahe/" class="dropdown-item">02 clahe</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/03_segmentation/" class="dropdown-item">03 segmentation</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/04_polygonMask/" class="dropdown-item">04 polygonMask</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/05_tracking/" class="dropdown-item">05 tracking</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/06_skeleton/" class="dropdown-item">06 skeleton</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Icy Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../00_Installation/" class="dropdown-item">Installation of the EpiTools plugins for ICY</a>
</li>
                                    
<li>
    <a href="../01_CellOverlay/" class="dropdown-item">Generating overlays using CellOverlay</a>
</li>
                                    
<li>
    <a href="../02_CellGraph/" class="dropdown-item">Creating new Graphs with CellGraph</a>
</li>
                                    
<li>
    <a href="../03_CellExport/" class="dropdown-item">Exporting data with CellExport</a>
</li>
                                    
<li>
    <a href="../04_CellEditor/" class="dropdown-item">Modifying Skeleton Images with CellEditor</a>
</li>
                                    
<li>
    <a href="../05_CellSurface/" class="dropdown-item">Visualizing GridFitÂ© Surfaces with CellSurface and CellProjection</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Detecting Cell Clones</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Quick Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Quick_Guide/00_Installation/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/01_CreateAnalysisFile/" class="dropdown-item">01 CreateAnalysisFile</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/02_OpenAnalysisSM/" class="dropdown-item">02 OpenAnalysisSM</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/03_RunModules/" class="dropdown-item">03 RunModules</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/04_Connecting_icy/" class="dropdown-item">04 Connecting icy</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/05_Multiple_ROIs/" class="dropdown-item">Step-by-Step guide to export skeletons from multiple ROIs</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Support/FAQ/" class="dropdown-item">Frequently Asked Questions</a>
</li>
                                    
<li>
    <a href="../../Support/Known_Issues/" class="dropdown-item">Known issues</a>
</li>
                                    
<li>
    <a href="../../Support/Latest_News/" class="dropdown-item">Support</a>
</li>
                                    
<li>
    <a href="../../Support/Release_Notes/" class="dropdown-item">Release note</a>
</li>
                                    
<li>
    <a href="../../Support/Software_License/" class="dropdown-item">Software License</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../05_CellSurface/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../Quick_Guide/00_Installation/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/epitools/edit/master/docs/Icy_Plugins/06_CellClone.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#detecting-cell-clones" class="nav-link">Detecting Cell Clones</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#summary" class="nav-link">Summary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#export" class="nav-link">Export</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#example-workflow" class="nav-link">Example workflow</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#source-code" class="nav-link">Source Code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#acknowledgements" class="nav-link">Acknowledgements</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="detecting-cell-clones">Detecting Cell Clones</h1>
<hr />
<h2 id="summary">Summary</h2>
<p>The <strong>CELL_CLONE</strong> overlay (added in v0.9.1) in the CellOverlay plugin detects the outlines of cell subpopulations (clones) based on a secondary input channel. The detection works as follows:</p>
<p>For every cell geometry, the mean intensity is measured within the cell geometry from the selected channel (the image can have multiple channels but the detection will only consider one currently). Given a user defined threshold (by default 100, currently limited to 0-255 &lt;-&gt; 8 bit image), the cells above the threshold are selected and create a subset from the cell network. By using a network property called "connected components" all the connected subgroups (clones) are identified and visualized.The threshold can be dynamically adjusted with the slider, the channel is fixed once the overlay is created. </p>
<h2 id="export">Export</h2>
<p>The excel export accessible through the layer option menu (see example below) currently includes:</p>
<ul>
<li>clone_id (increasing integer)</li>
<li>centroid coordinates of the clone geometry</li>
<li>size/area (in pixel)</li>
<li>perimeter (in pixel)</li>
<li>cell count (# of cells within clone)</li>
<li>border count (# of cells on the border of the clone)</li>
<li>neighbor count (# of cells on the other side of the border, i.e. neighboring the clone)</li>
<li>detection channel (in case the channel in the image has a name)</li>
<li>the used detection_threshold.</li>
</ul>
<h2 id="example-workflow">Example workflow</h2>
<ol>
<li>
<p>download the <em>cellClone_example.zip</em> from the <a href="https://github.com/epitools/epitools-samples">epitools_samples</a> repository</p>
</li>
<li>
<p>open MontageCh1.tif in icy and overlay the skeleton with the CellGraph plugin by specifying the MontageSkeleton.tif as input file
<img alt="start" src="../../Images/icy/CellClone/00_start.png" /></p>
</li>
<li>
<p>Add the CELL_CLONES overlay from the CellOverlay plugin 
<img alt="add" src="../../Images/icy/CellClone/01_add_clone_overlay.png" /></p>
</li>
<li>
<p>From the layer menu choose the "Cell Clones" layer and select the export button from the menu at the bottom to save the excel file (an equivalent example excel file is included in the archive)</p>
</li>
<li>
<p>(Optional) switch off the red polygon_layer by clicking the eye symbol next to the "Polygons" layer
<img alt="export" src="../../Images/icy/CellClone/02_clone_export.png" /></p>
</li>
<li>
<p>(Optional) adjust the detection_threshold dynamically by moving the slider above the export button 
<img alt="adjustment" src="../../Images/icy/CellClone/03_clone_threshold_adjustment.png" /></p>
</li>
</ol>
<h2 id="source-code">Source Code</h2>
<p>The JAVA code for this overlay can be found here: <a href="https://github.com/epitools/epitools-icy/blob/master/CellGraph/src/plugins/davhelle/cellgraph/overlays/CellCloneOverlay.java">CellGraph/src/plugins/davhelle/cellgraph/overlays/CellCloneOverlay.java</a></p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>Thanks to the Fisun lab @ EPFL for the idea of developing this overlay, the example data and helping testing it!</p>
<hr />
<h6 id="do-you-think-these-informations-are-not-enough-to-help-you-drop-a-line-to-the-author-and-he-will-extend-this-tutorial-asap">Do you think these informations are not enough to help you? Drop a line to the author and he will extend this tutorial asap!</h6>
<h6 id="this-page-was-written-by-davide-heller-on-26720171624">This page was written by <a href="mailto:davide.heller@gmail.com">Davide Heller</a> on 26.7.2017@16:24</h6>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55332946-1', 'auto');
  ga('send', 'pageview');

</script></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
