<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Generating overlays using CellOverlay - EpiTools Wiki Pages</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">EpiTools Wiki Pages</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Analysis Modules <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Analysis_Modules/00_projection/" class="dropdown-item">Selective Plane Projection for Z-Stacks</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/01_registration/" class="dropdown-item">Registration of Time Series</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/02_clahe/" class="dropdown-item">Contrast limited adaptive histogram equalization</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/03_segmentation/" class="dropdown-item">Region growing segmentation</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/04_polygonMask/" class="dropdown-item">Polygonal Mask</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/05_tracking/" class="dropdown-item">Tracking Corrections</a>
</li>
                                    
<li>
    <a href="../../Analysis_Modules/06_skeleton/" class="dropdown-item">Skeleton Generation</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Icy Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../00_Installation/" class="dropdown-item">Installation of the EpiTools plugins for ICY</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Generating overlays using CellOverlay</a>
</li>
                                    
<li>
    <a href="../02_CellGraph/" class="dropdown-item">Creating new Graphs with CellGraph</a>
</li>
                                    
<li>
    <a href="../03_CellExport/" class="dropdown-item">Exporting data with CellExport</a>
</li>
                                    
<li>
    <a href="../04_CellEditor/" class="dropdown-item">Modifying Skeleton Images with CellEditor</a>
</li>
                                    
<li>
    <a href="../05_CellSurface/" class="dropdown-item">Visualizing GridFitÂ© Surfaces with CellSurface and CellProjection</a>
</li>
                                    
<li>
    <a href="../06_CellClone/" class="dropdown-item">Detecting Cell Clones</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Quick Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Quick_Guide/00_Installation/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/01_CreateAnalysisFile/" class="dropdown-item">01 CreateAnalysisFile</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/02_OpenAnalysisSM/" class="dropdown-item">02 OpenAnalysisSM</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/03_RunModules/" class="dropdown-item">03 RunModules</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/04_Connecting_icy/" class="dropdown-item">Visualize results in icy</a>
</li>
                                    
<li>
    <a href="../../Quick_Guide/05_Multiple_ROIs/" class="dropdown-item">Step-by-Step guide to export skeletons from multiple ROIs</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Support/FAQ/" class="dropdown-item">Frequently Asked Questions</a>
</li>
                                    
<li>
    <a href="../../Support/Known_Issues/" class="dropdown-item">Known issues</a>
</li>
                                    
<li>
    <a href="../../Support/Latest_News/" class="dropdown-item">Support</a>
</li>
                                    
<li>
    <a href="../../Support/Release_Notes/" class="dropdown-item">Release note</a>
</li>
                                    
<li>
    <a href="../../Support/Software_License/" class="dropdown-item">Software License</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../00_Installation/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../02_CellGraph/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/epitools" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#generating-overlays-using-celloverlay" class="nav-link">Generating overlays using CellOverlay</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="generating-overlays-using-celloverlay">Generating overlays using CellOverlay</h1>
<hr />
<p>After installing the plugins and loading the test file we are now ready to generate overlays. In fact two overlay are already present if we look at the <strong><em>Layer</em></strong> menu in the icy menu on the right. By clicking on the eye icon on the side of each overlay you can toggle the presence.</p>
<p>For a general overview you can watch our first CellOverlay <a href="https://www.dropbox.com/s/m1um7hdl26h5iqi/04_CellOverlay_introduction_area.mov?dl=0">tutorial video</a> too!</p>
<pre><code>Notice: This example uses the original skeleton image as background but the overlays can be generated on any other image as well (e.g. raw image, second channel ecc.) the only limitation is that dimensions must match (x,y,t).
</code></pre>
<p><img alt="Layers" src="../../Images/icy/CellOverlay/LayerIdea.png" /></p>
<h3 id="create-a-new-overlay">Create a new overlay</h3>
<hr />
<p>Let's add a new overlay to the test viewer (click again on TestLoader if you closed it). Here we will add a graph view overlay which visualizes the neighborhood connectivity of every cell.</p>
<ol>
<li>Open the CellOverlay plugin from the toolbar</li>
<li>Select <em>GRAPH VIEW</em> from the Overlay list (see summary figure below)</li>
<li>Generate the overlay by clicking <em>Add Overlay</em> on the plugin bottom</li>
</ol>
<p><img alt="Choose the graph overlay" src="../../Images/icy/CellOverlay/GraphView1.png" /></p>
<p>A new overlay is now present on the image and a new entry in the Layer menu:</p>
<p><img alt="Choose the graph overlay" src="../../Images/icy/CellOverlay/GraphView2.png" /></p>
<h3 id="adjusting-a-gradient-color-overlay">Adjusting a gradient color overlay</h3>
<hr />
<p>When the overlay displays a gradient through a color scheme like in the Area example the user can adjust the scheme through the 4 parameters in the OptionPanel in the Layer menu (see image below). The <em>Gradient Maximum</em> and <em>Gradient Minimum</em> parameters set the extremes of the gradient (everything above and below has constant color). The <em>Gradient Scale</em> is a multiplier between 0 and 1 to scale the color gradient into a particular range of colors (see <a href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSV color scheme</a> for more information about the color space). The <em>Gradient Shift</em> is complementary to the scale, shifting the scaled color gradient into the desired region by adding a constant factor between 0 and 1.</p>
<p>Current Overlays with Color Gradient:</p>
<ul>
<li>Area Gradient</li>
<li>Voronoi Area Difference</li>
<li>Division Orientation</li>
<li>Ellipse Elongation Ratio</li>
<li>Ellipse Fit With respect to ROI</li>
<li>Edge Intensity</li>
</ul>
<p><img alt="The default Area Color Gradient" src="../../Images/icy/CellOverlay/ColorGradient1.png" /></p>
<p><img alt="Change maximum and minimum value" src="../../Images/icy/CellOverlay/ColorGradient2.png" /></p>
<p><img alt="Change shift and scale of gradient" src="../../Images/icy/CellOverlay/ColorGradient3.png" /></p>
<h3 id="export-an-overlay">Export an overlay</h3>
<hr />
<p>While in the later section <a href="../03_CellExport">CellExport</a> we show how to export many data points at once, every overlay has a custom export option. This option can be reached from the layer option menu, where you can also adapt the opacity or delete the overlay. Here we show howt exprot the area of cells from the CELL_AREA overlay:</p>
<ol>
<li>Click on the layer name to make the export option appear
<img alt="Export an ovlerlay" src="../../Images/icy/CellOverlay/AreaExport1.png" /></li>
<li>Click on the export button and choose where to save the spreadsheet
<img alt="Export an ovlerlay" src="../../Images/icy/CellOverlay/AreaExport2.png" /></li>
<li>Every sheet in the file will contain the area of the cells in the respective frame
<img alt="Export an ovlerlay" src="../../Images/icy/CellOverlay/AreaExport3.png" /></li>
</ol>
<h3 id="available-overlays">Available Overlays</h3>
<hr />
<p><img alt="Overlay overview" src="../../Images/icy/CellOverlay/OverlayOverview.svg" /></p>
<p>Currently the following overlays are available, divided by category:</p>
<h4 id="basic">Basic</h4>
<table>
<thead>
<tr>
<th>CELL_OUTLINE</th>
<th>CELL_AREA</th>
<th>CELL_SEGMENTATION_BORDER</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/outline.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/area.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/border.png" /></td>
</tr>
<tr>
<td>Draws cell centroids and cell outlines in a color of choice</td>
<td>Colors the cells according to their area size in a gradient fashion. Gradient threshold can be dynamically changed, just move the pointer to back to the image to refresh</td>
<td>Shows where the border of the segmentation was identified</td>
</tr>
<tr>
<td></td>
<td><a href="https://www.dropbox.com/s/m1um7hdl26h5iqi/04_CellOverlay_introduction_area.mov?dl=0">tutorial video</a></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="tesselation">Tesselation</h4>
<table>
<thead>
<tr>
<th>CELL_VORONOI_DIAGRAM</th>
<th>CELL_POLYGON_CLASS</th>
<th>CELL_GRAPH_VIEW</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/voronoi.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/pc.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/graph.png" /></td>
</tr>
<tr>
<td>displays the voronoi diagram computed from the cell centroids</td>
<td>Displays the number of neighbors each cell has with color code or number</td>
<td>Shows the connectivity (neighbors) of each cell</td>
</tr>
<tr>
<td></td>
<td><a href="https://www.dropbox.com/s/303r7zknp4ydecp/05_CellOverlay_polygonClass.mov?dl=0">tutorial video</a></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="dynamic-tracking-required">Dynamic (tracking required)</h4>
<table>
<thead>
<tr>
<th>TRACKING_REVIEW</th>
<th>TRACKING_DISPLACEMENT</th>
<th>DIVISIONS_AND_ELIMINATIONS</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/tracking.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/displacement.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/divisions.png" /></td>
</tr>
<tr>
<td>Reviews the tracking in case it has been eliminated or to highlight different aspects</td>
<td>Shows how much a centroid moved from one frame to the next. Helpful to spot mistakes</td>
<td>Highlights the cells that underwent division or elimination during the time lapse</td>
</tr>
<tr>
<td><a href="https://www.dropbox.com/s/p9bdzmsik1ihj3i/06_CellOverlay_Tracking.mov?dl=0">tutorial video</a></td>
<td>----</td>
<td><a href="https://www.dropbox.com/s/9jdaq141teina4x/07_CellOverlay_Divisions_and_Eliminations.mov?dl=0">tutorial video</a></td>
</tr>
</tbody>
</table>
<h4 id="interactive">Interactive</h4>
<table>
<thead>
<tr>
<th>CELL_COLOR_TAG</th>
<th>EDGE_COLOR_TAG</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/tag.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/edgeTag.png" /></td>
</tr>
<tr>
<td>Interactively mark cells with several colors of choice and follow the cells over-time</td>
<td>Interactively mark edges with several colors of choice and follow the edges over-time</td>
</tr>
<tr>
<td><a href="https://www.dropbox.com/s/kaphn9pzffmthan/08_CellOverlay_Cell_Color_Tag.mov?dl=0">tutorial video</a></td>
<td><a href="https://www.dropbox.com/s/osxd1tzri6gpdg4/09_CellOverlay_Edge_Color_Tag.mov?dl=0">tutorial video</a></td>
</tr>
</tbody>
</table>
<h4 id="edge-junction-analysis">Edge / Junction Analysis</h4>
<table>
<thead>
<tr>
<th>EDGE_T1_TRANSITIONS</th>
<th>EDGE_STABILITY</th>
<th>EDGE_INTENSITY</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/transitions.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/stability.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/edgeIntensity.png" /></td>
</tr>
<tr>
<td>Computes and displays the T1 transitions present in the time lapse</td>
<td>Displays a color code for how stable edges are, how long they can be tracked</td>
<td>Transforms the edge geometries into ROIs and displays the underlying intensity of the image</td>
</tr>
</tbody>
</table>
<h4 id="shape-analysis">Shape analysis</h4>
<table>
<thead>
<tr>
<th>ELLIPSE_FIT</th>
<th>ELLIPSE_ELONGATION_RATIO</th>
<th>ELLIPSE_FIT_WRT_POINT_ROI</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/ellipse.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/elongation.png" /></td>
<td><img alt="outline" src="../../Images/icy/CellOverlay/overlays/orientationROI.png" /></td>
</tr>
<tr>
<td>Fits an ellipse to each cell geometry and displays the longest axis</td>
<td>Color codes the cell according to their elongation ratio and writes the elongation factor within every cell</td>
<td>Highlights the orienation of the cell with respect to a user defined ROI (green point). The ROI can be interactively moved</td>
</tr>
<tr>
<td></td>
<td></td>
<td><a href="https://www.dropbox.com/s/jnx6nujcnr0asxr/10_CellOverlay_EllipseFit_ROI.mov?dl=0">tutorial video</a></td>
</tr>
</tbody>
</table>
<h4 id="futher-overlays">Futher overlays</h4>
<ul>
<li>DIVSION_ORIENTATION: Color codes the dividing cells according to their new junction orientation (Longest axis of mother cell vs New junction)</li>
<li>TRACKING_STABLE_ONLY: Outlines the cells that are completely tracked throughout the movie or till the division</li>
<li>TRACKING_CORRECTION_HINTS: Help identifying cells which have been segmented wrongly, best used in combination with <a href="../03_CellEditor">CellEditor</a> plugin</li>
<li>EDGE_ORIENTATION: useful to extract orientation of individual edges with combined intensity measurement</li>
<li>CELL_PROJECTION: see <a href="../05_CellSurface">CellSurface section</a></li>
</ul>
<p><strong>Learn how to load your own graph structure into memory in the <a href="../02_CellGraph">next section</a></strong></p>
<hr />
<h6 id="do-you-think-these-informations-are-not-enough-to-help-you-drop-a-line-to-the-author-and-he-will-extend-this-tutorial-asap">Do you think these informations are not enough to help you? Drop a line to the author and he will extend this tutorial asap!</h6>
<h6 id="this-page-was-written-by-davide-heller-on-121120151537">This page was written by <a href="mailto:davide.heller@gmail.com">Davide Heller</a> on 12.11.2015@15:37</h6>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55332946-1', 'auto');
  ga('send', 'pageview');

</script></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
